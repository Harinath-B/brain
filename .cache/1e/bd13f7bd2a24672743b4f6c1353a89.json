{"id":"n2kc","dependencies":[{"name":"/home/hari/Desktop/mystery-ai/brain/package.json","includedInParent":true,"mtime":1704390744954},{"name":"/home/hari/Desktop/mystery-ai/brain/node_modules/three-instanced-uniforms-mesh/package.json","includedInParent":true,"mtime":1704390705338},{"name":"three","loc":{"line":1,"column":75,"index":75},"parent":"/home/hari/Desktop/mystery-ai/brain/node_modules/three-instanced-uniforms-mesh/dist/three-instanced-uniforms-mesh.esm.js","resolved":"/home/hari/Desktop/mystery-ai/brain/node_modules/three/build/three.module.js"},{"name":"troika-three-utils","loc":{"line":2,"column":100,"index":184},"parent":"/home/hari/Desktop/mystery-ai/brain/node_modules/three-instanced-uniforms-mesh/dist/three-instanced-uniforms-mesh.esm.js","resolved":"/home/hari/Desktop/mystery-ai/brain/node_modules/troika-three-utils/dist/troika-three-utils.esm.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createInstancedUniformsDerivedMaterial=a,exports.InstancedUniformsMesh=void 0;var e=require(\"three\"),t=require(\"troika-three-utils\");const r=/\\buniform\\s+(int|float|vec[234])\\s+$/,s=(e,t,s)=>r.test(s.substr(0,t))?e:`troika_attr_${e}`,i=(e,t,s)=>r.test(s.substr(0,t))?e:`troika_vary_${e}`;function a(e){let r=[],a=\"\";const n=(0,t.createDerivedMaterial)(e,{chained:!0,customRewriter({vertexShader:e,fragmentShader:a}){let n=[],o=[],c=[],l=(0,t.getShaderUniformTypes)(e),u=(0,t.getShaderUniformTypes)(a);return r.forEach(t=>{let r=l[t],m=u[t];if(r||m){let l=new RegExp(`\\\\b${t}\\\\b`,\"g\");if(n.push(`attribute ${r||m} troika_attr_${t};`),r&&(e=e.replace(l,s)),m){a=a.replace(l,i);let e=`varying ${m} troika_vary_${t};`;n.push(e),c.push(e),o.push(`troika_vary_${t} = troika_attr_${t};`)}}}),e=`${n.join(\"\\n\")}\\n${e.replace(t.voidMainRegExp,`\\n$&\\n${o.join(\"\\n\")}`)}`,c.length&&(a=`${c.join(\"\\n\")}\\n${a}`),{vertexShader:e,fragmentShader:a}}});n.setUniformNames=function(e){const t=(r=e||[]).sort().join(\"|\");t!==a&&(a=t,this.needsUpdate=!0)};const o=n.customProgramCacheKey();return n.customProgramCacheKey=function(){return o+\"|\"+a},n.isInstancedUniformsMaterial=!0,n}class n extends e.InstancedMesh{constructor(e,t,r){super(e,t,r),this._instancedUniformNames=[]}get geometry(){let e=this._derivedGeometry;const t=this._baseGeometry;return e&&e.baseGeometry===t||((e=this._derivedGeometry=Object.create(t)).baseGeometry=t,e.attributes=Object.create(t.attributes),t.addEventListener(\"dispose\",function(){e.dispose()})),e}set geometry(e){this._baseGeometry=e}get material(){let t=this._derivedMaterial;const r=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=new e.MeshBasicMaterial);return t&&t.baseMaterial===r||(t=this._derivedMaterial=a(r),r.addEventListener(\"dispose\",function e(){r.removeEventListener(\"dispose\",e),t.dispose()})),t.setUniformNames(this._instancedUniformNames),t}set material(e){if(Array.isArray(e))throw new Error(\"InstancedUniformsMesh does not support multiple materials\");for(;e&&e.isInstancedUniformsMaterial;)e=e.baseMaterial;this._baseMaterial=e}get customDepthMaterial(){return this.material.getDepthMaterial()}get customDistanceMaterial(){return this.material.getDistanceMaterial()}setUniformAt(t,r,s){const i=this.geometry.attributes,a=`troika_attr_${t}`;let n=i[a];if(!n){const r=c(this._baseMaterial,t),s=l(r);if(n=i[a]=new e.InstancedBufferAttribute(new Float32Array(s*this.count),s),null!==r)for(let e=0;e<this.count;e++)o(n,e,r);this._instancedUniformNames=[...this._instancedUniformNames,t]}o(n,r,s),n.needsUpdate=!0}unsetUniform(e){this.geometry.deleteAttribute(`troika_attr_${e}`),this._instancedUniformNames=this._instancedUniformNames.filter(t=>t!==e)}}function o(e,t,r){let s=e.itemSize;1===s?e.setX(t,r):2===s?e.setXY(t,r.x,r.y):3===s?r.isColor?e.setXYZ(t,r.r,r.g,r.b):e.setXYZ(t,r.x,r.y,r.z):4===s&&e.setXYZW(t,r.x,r.y,r.z,r.w)}function c(e,r){let s=e.uniforms;return s&&s[r]?s[r].value:(s=(0,t.getShadersForMaterial)(e).uniforms)&&s[r]?s[r].value:null}function l(e){return null==e?0:\"number\"==typeof e?1:e.isVector2?2:e.isVector3||e.isColor?3:e.isVector4?4:Array.isArray(e)?e.length:0}exports.InstancedUniformsMesh=n;"},"sourceMaps":null,"error":null,"hash":"1daaed63d09dd8abc178fb19a1428471","cacheData":{"env":{}}}